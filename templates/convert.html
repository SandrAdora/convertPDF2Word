{% extends 'index.html' %}
{% block content %}

<div class="flex justify-center neon-box animate-neon-box max-w-lg mx-auto p-8 bg-white/70 backdrop-blur-md rounded-2xl shadow-lg mt-24">
    <h2 class="text-3xl font-bold tracking-tight text-white flex justify-center mt-6">Conversion Status</h2>
    <!---Success Block -->
    <div id="conversion-success" class="flex justify-center neon-box animate-neon-box  bg-blue-600 backdrop-blur-md rounded-2xl shadow-lg mt-10">
        <h2 class="text-white  font-bold font-black">
            {{ message }}<br>
            Images found: {{ image_count }}<br>
            Time Used for converting: {{ time_used_for_conversion }} ms<br>
        </h2>
    
        <button id="download-clicked"  class="px-6 gap-6"><a href="/download/{{ download_file }}" 
            class=" bg-blue-600 hover:bg-green-500 text-white 
            font-semibold py-2 px-4 rounded-lg shadow-md transition">
            <i class="fa-solid fa-download" style="#ffffff"> download file</i></a></button>
    </div>
    <!---Failure Block-->
    <div id="conversion-failed" class="hidden">
        <h1>
            {{ message }}
        </h1>
    </div>
</div>
<script>
    document.getElementById("download-clicked").addEventListener('click', function isClicked(){
        setTimeout(()=> {
            // refresh page after 700 ms
            window.location.href="/";
        }, 700);
    });
    if ("{{ message }}" === "‚ùå Conversion Failure"){
        document.getElementById('conversion-failed').classList.remove('hidden');
        document.getElementById('conversion-success').classList.add('hidden');
    }
</script>
{% endblock %}
